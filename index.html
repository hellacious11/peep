<html>
  <head>
    <title>ZeroBridge</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap"
      rel="stylesheet"
    />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://cdn.jsdelivr.net/npm/web3@1.2.11/dist/web3.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/big.js/5.2.2/big.min.js"></script>

    <style>
      @font-face {
        font-family: "Quin";
        src: url("./fonts/Quinquefive-ALoRM.ttf") format("truetype");
      }

      canvas {
        display: block;
        position: fixed;
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
        z-index: -1;
      }

      body {
        display: flex;
        justify-content: center;
        align-items: center;
        flex-direction: column;
        text-align: center;
        /* text-transform: uppercase; */
        color: #fff;
        height: 100vh;
        margin: 0;
        padding: 10px;
        line-height: 1.5;
        font-family: "Roboto", sans-serif;
        background: #5a1d09;
        font-family: Arial, sans-serif;
      }

      h1,
      h2,
      h3,
      h4,
      h5,
      h6 {
        color: #e04511;
        font-family: "Quin", sans-serif;
      }

      p {
        font-family: "Roboto", sans-serif;
        overflow: hidden;
      }
      img {
        width: 300px;
        height: auto;
        margin-top: 20px;
      }

      a,
      a:visited {
        color: #e04511;
      }

      .bg {
        background-image: url("./bg.avif");
        position: absolute;
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
        background-size: cover;
        z-index: -1;
        opacity: 0.1;
      }

      .content {
        max-width: 500px;
        text-align: center;
        background: #101010;
        margin: 1px auto;
        width: 90%;
        border: 2px dotted #e04511;
        padding: 20px;
        margin-top: 100px;
      }

      h1 {
        font-size: 1.5em;
      }
      .logo {
        border-radius: 100%;
      }

      .hint {
        /* opacity: 0.5; */
      }

      .content-2 {
        max-width: 540px;
        text-align: center;
        background: rgba(0, 0, 0, 0.5);
        width: 100%;
        margin-top: 100px;
        border: 2px dotted #5795d4;
      }

      input {
        text-align: center;
        background: rgba(0, 0, 0, 0.5);
        width: 100%;
        background-color: rgba(255, 255, 255, 0.1);
        color: #fff;
        outline: none;
        font-size: 18px;
        border: 0;
        padding: 20px 0;
      }

      .btn {
        display: block;
        padding: 20px 0;
        width: 100%;
        color: #fff;
        cursor: pointer;
        background-color: #5795d4;
        font-family: "Quin", sans-serif;
        border: 0;
      }

      .hide {
        display: none;
      }

      .container {
        overflow: scroll;

        /* position: fixed;
        overflow-y: scroll; */
      }
    </style>
  </head>
  <body>
    <!-- Google tag (gtag.js) -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-80QVYHHVBV"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());
      gtag("config", "G-4XRWVC14FK");
    </script>

    <!-- <div class="bg"></div> -->
    <div class="container">
      <div class="content">
        <!-- <img src="./logo.png" /> -->
        <h1>ZeroMixer</h1>

        <p class="hint">
          <!-- <b> -->
          ZeroMixer introduces an innovative Ethereum zero-knowledge privacy
          protocol: a smart contract enabling seamless transaction acceptance in
          Ether and ERC-20 tokens while ensuring complete withdrawal anonymity,
          erasing any traceability to the initial transaction.

          <br /><br />
          ZeroMixer contracts are governed by $MIXER, a decentralized
          stealth-launched DAO.
          <br /><br />
          Stealth launch. 1-2am UTC August 4th 2023
          <!-- </b> -->
        </p>

        <!-- <br /> -->
        <!-- <p>
          CA:
          <a
            href="https://etherscan.io/token/0x80e9d7301C82b8e730d5bC280D43c5f2f11d1D59"
            target="_blank"
          >
            0x80e9d7301C82b8e730d5bC280D43c5f2f11d1D59
          </a>
        </p> -->
        <p>
          GitHub:
          <a
            href="https://github.com/zeromixerxyz/protocol-implementation"
            target="_blank"
          >
            zeromixerxyz/protocol-implementation
          </a>
        </p>
      </div>

      <!-- <h2>Ethereum, Encrypted</h2> -->

      <div class="content" style="max-width: 900px; text-align: left">
        <h1>Abstract</h1>
        <div
          id="text-content-comp-lj7dmaj82"
          class="KcpHeO tz5f0K comp-lj7dmaj82 wixui-rich-text"
          data-testid="richTextElement"
        >
          <p
            class="font_9 wixui-rich-text__text"
            style="font-size: 15px; line-height: 1.88em"
          >
            <span style="font-size: 15px" class="wixui-rich-text__text"
              >The protocol has the following functionality:
            </span>
          </p>

          <ol class="font_9 wixui-rich-text__text" style="font-size: 15px">
            <li style="line-height: 1.88em" class="wixui-rich-text__text">
              <p
                class="font_9 wixui-rich-text__text"
                style="font-size: 15px; line-height: 1.88em"
              >
                <span style="font-size: 15px" class="wixui-rich-text__text"
                  >Insert/deposit money to the smart contract. This can be done
                  in a single transaction with a fixed amount (denoted by N) of
                  Ether. The N-ETH note is called a coin.
                </span>
              </p>
            </li>
            <li style="line-height: 1.88em" class="wixui-rich-text__text">
              <p
                class="font_9 wixui-rich-text__text"
                style="font-size: 15px; line-height: 1.88em"
              >
                <span style="font-size: 15px" class="wixui-rich-text__text"
                  >Remove/withdraw money from the smart contract can be done in
                  2 ways: – The N ETH is withdrawn through a Relayer with f
                  Ether sent as a fee to the Relayer address t and (N − f) to
                  the designated recipient. The value f and t is chosen by the
                  sender. In this case the withdraw transaction is initiated by
                  the Relayer and it pays the Gas fee that is supposed to be
                  covered by f. – The N ETH is withdrawn to the designated
                  recipient, the transaction is initiated by the recipient. The
                  recipient should have enough ETH to pay Gas fee for the
                  transaction. In that case fee f is considered to be equal to
                  0.</span
                >
              </p>
            </li>
          </ol>

          <h2>How Deposits work</h2>
          <p>To deposit a coin, a user proceeds as follows:</p>

          <ol class="font_9 wixui-rich-text__text" style="font-size: 15px">
            <li style="line-height: 1.88em" class="wixui-rich-text__text">
              <p
                class="font_9 wixui-rich-text__text"
                style="font-size: 15px; line-height: 1.88em"
              >
                <span style="font-size: 15px" class="wixui-rich-text__text"
                  >Generate two random numbers k, r of B 248 and computes C =
                  H1(k||r)
                </span>
              </p>
            </li>
            <li style="line-height: 1.88em" class="wixui-rich-text__text">
              <p
                class="font_9 wixui-rich-text__text"
                style="font-size: 15px; line-height: 1.88em"
              >
                <span style="font-size: 15px" class="wixui-rich-text__text"
                  >Send Ethereum transaction with N ETH to contract C with data
                  C interpreted as an unsigned 256-bit integer. If the tree is
                  not full, the contract accepts the transaction and adds C to
                  the tree as a new non-zero leaf.
                </span>
              </p>
            </li>
          </ol>

          <h2>How Withdrawals work</h2>
          <p>
            To withdraw a coin (k, r) with position l in the tree a user
            proceeds as follows:
          </p>

          <ol
            class="font_9 wixui-rich-text__text"
            style="font-size: 15px; line-height: 1.88em"
          >
            <li style="line-height: 1.88em" class="wixui-rich-text__text">
              <p
                class="font_9 wixui-rich-text__text"
                style="font-size: 15px; line-height: 1.88em"
              >
                <span style="font-size: 15px" class="wixui-rich-text__text"
                  >Select a recipient address A and fee value f ≤ N;
                </span>
              </p>
            </li>
            <li style="line-height: 1.88em" class="wixui-rich-text__text">
              <p
                class="font_9 wixui-rich-text__text"
                style="font-size: 15px; line-height: 1.88em"
              >
                <span style="font-size: 15px" class="wixui-rich-text__text"
                  >Select a root R among the stored ones in the contract and
                  compute opening O(l) that ends with R.
                </span>
              </p>
            </li>
            <li style="line-height: 1.88em" class="wixui-rich-text__text">
              <p
                class="font_9 wixui-rich-text__text"
                style="font-size: 15px; line-height: 1.88em"
              >
                <span style="font-size: 15px" class="wixui-rich-text__text"
                  >Compute nullifier hash h = H1(k).
                </span>
              </p>
            </li>
            <li style="line-height: 1.88em" class="wixui-rich-text__text">
              <p
                class="font_9 wixui-rich-text__text"
                style="font-size: 15px; line-height: 1.88em"
              >
                <span style="font-size: 15px" class="wixui-rich-text__text"
                  >Compute proof P by calling Prove on dp.
                </span>
              </p>
            </li>
            <li style="line-height: 1.88em" class="wixui-rich-text__text">
              <p
                class="font_9 wixui-rich-text__text"
                style="font-size: 15px; line-height: 1.88em"
              >
                <span style="font-size: 15px" class="wixui-rich-text__text"
                  >Perform the withdrawal in one of the following ways:
                </span>
              </p>

              <ol class="wixui-rich-text__text">
                <li style="line-height: 1.88em" class="wixui-rich-text__text">
                  <p
                    class="font_9 wixui-rich-text__text"
                    style="font-size: 15px; line-height: 1.88em"
                  >
                    <span style="font-size: 15px" class="wixui-rich-text__text"
                      >Send an Ethereum transaction to contract C supplying R,
                      h, A, f, t, P in transaction data.
                    </span>
                  </p>
                </li>
                <li style="line-height: 1.88em" class="wixui-rich-text__text">
                  <p
                    class="font_9 wixui-rich-text__text"
                    style="font-size: 15px; line-height: 1.88em"
                  >
                    <span style="font-size: 15px" class="wixui-rich-text__text"
                      >Send a request to Relayer supplying transaction data R,
                      h, A, f, t, P. The Relayer is then supposed to make a
                      transaction to contract C with supplied data. </span
                    ><br class="wixui-rich-text__text" />
                    &nbsp;
                  </p>
                </li>
              </ol>
            </li>
          </ol>

          <p
            class="font_9 wixui-rich-text__text"
            style="font-size: 15px; line-height: 1.88em"
          >
            <span style="font-size: 15px" class="wixui-rich-text__text"
              >The contract verifies the proof and uniqueness of the nullifier
              hash. In the successful case it sends (Nf) to A and f to the
              Relayer t and adds h to the list of nullifier hashes.</span
            >
          </p>
        </div>
      </div>
    </div>

    <canvas id="c"></canvas>

    <script>
      // geting canvas by Boujjou Achraf
      var c = document.getElementById("c");
      var ctx = c.getContext("2d");

      //making the canvas full screen
      c.height = window.innerHeight;
      c.width = window.innerWidth;

      //chinese characters - taken from the unicode charset
      var matrix =
        "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ123456789@#$%^&*()*&^%+-/~{[|`]}";
      //converting the string into an array of single characters
      matrix = matrix.split("");

      var font_size = 10;
      var columns = c.width / font_size; //number of columns for the rain
      //an array of drops - one per column
      var drops = [];
      //x below is the x coordinate
      //1 = y co-ordinate of the drop(same for every drop initially)
      for (var x = 0; x < columns; x++) drops[x] = 1;

      //drawing the characters
      function draw() {
        //Black BG for the canvas
        //translucent BG to show trail
        ctx.fillStyle = "rgba(0, 0, 0, 0.04)";
        ctx.fillRect(0, 0, c.width, c.height);

        ctx.fillStyle = "#e04511"; //green text
        ctx.font = font_size + "px arial";
        //looping over drops
        for (var i = 0; i < drops.length; i++) {
          //a random chinese character to print
          var text = matrix[Math.floor(Math.random() * matrix.length)];
          //x = i*font_size, y = value of drops[i]*font_size
          ctx.fillText(text, i * font_size, drops[i] * font_size);

          //sending the drop back to the top randomly after it has crossed the screen
          //adding a randomness to the reset to make the drops scattered on the Y axis
          if (drops[i] * font_size > c.height && Math.random() > 0.975)
            drops[i] = 0;

          //incrementing Y coordinate
          drops[i]++;
        }
      }

      setInterval(draw, 20);
    </script>
  </body>
</html>
